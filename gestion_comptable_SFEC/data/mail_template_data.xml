<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Template pour la validation des commandes fournisseurs -->
    <record id="email_template_validation_commande" model="mail.template">
        <field name="name">Validation Commande Fournisseur</field>
        <field name="model_id" ref="model_gestion_comptable_sfec_bon_commande_fournisseur"/>
        <field name="subject">Validation automatique de votre commande</field>
        <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
        <field name="email_to">${object.fournisseur_id.email|safe}</field>
        <field name="body_html">
            <![CDATA[
            <div style="font-family: 'Lucida Grande', Ubuntu, Arial, Verdana, sans-serif; font-size: 12px; color: rgb(34, 34, 34); background-color: #FFF; ">
                <p>Cher ${object.fournisseur_id.name},</p>
                <p>Votre commande ${object.name} a été automatiquement validée car vous êtes partenaire exclusif.</p>
                <p>Détails de la commande :</p>
                <ul>
                    <li>Date : ${object.date_commande}</li>
                    <li>Montant : ${object.montant_total} €</li>
                </ul>
                <p>Vous pouvez consulter les détails de votre commande dans votre espace client.</p>
                <p>Cordialement,</p>
                <p>L'équipe SFEC</p>
            </div>
            ]]>
        </field>
    </record>

    <!-- Template pour les relances clients -->
    <record id="email_template_relance_client" model="mail.template">
        <field name="name">Relance Client</field>
        <field name="model_id" ref="model_gestion_comptable_sfec_facture_finale"/>
        <field name="subject">Relance de paiement - Facture ${object.name}</field>
        <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
        <field name="email_to">${object.client_id.email|safe}</field>
        <field name="body_html">
            <![CDATA[
            <div style="font-family: 'Lucida Grande', Ubuntu, Arial, Verdana, sans-serif; font-size: 12px; color: rgb(34, 34, 34); background-color: #FFF; ">
                <p>Cher ${object.client_id.name},</p>
                <p>Nous vous rappelons que votre facture ${object.name} est encore en attente de paiement.</p>
                <p>Détails de la facture :</p>
                <ul>
                    <li>Date : ${object.date_facture}</li>
                    <li>Montant : ${object.montant_total} €</li>
                    <li>Date d'échéance : ${object.date_echeance}</li>
                </ul>
                <p>Nous vous remercions de bien vouloir procéder au paiement dans les plus brefs délais.</p>
                <p>Cordialement,</p>
                <p>L'équipe SFEC</p>
            </div>
            ]]>
        </field>
    </record>

    <!-- Template pour les alertes stock -->
    <record id="email_template_alerte_stock" model="mail.template">
        <field name="name">Alerte Stock</field>
        <field name="model_id" ref="model_gestion_comptable_sfec_article"/>
        <field name="subject">Alerte Stock - ${object.name}</field>
        <field name="email_from">${(object.company_id.email or user.email)|safe}</field>
        <field name="email_to">${object.responsable_id.email|safe}</field>
        <field name="body_html">
            <![CDATA[
            <div style="font-family: 'Lucida Grande', Ubuntu, Arial, Verdana, sans-serif; font-size: 12px; color: rgb(34, 34, 34); background-color: #FFF; ">
                <p>Alerte Stock pour l'article ${object.name} (${object.reference})</p>
                <p>Le stock est en dessous du seuil minimum (${object.seuil_min} unités)</p>
                <p>Stock actuel : ${object.qty_available} unités</p>
                <p>Nous vous recommandons de lancer une nouvelle commande auprès du fournisseur.</p>
                <p>Cordialement,</p>
                <p>L'équipe SFEC</p>
            </div>
            ]]>
        </field>
    </record>
</odoo>
